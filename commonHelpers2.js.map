{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('form');\n\nconst keyLk = 'feedback-form-state';\n\nform.addEventListener('input', e => {\n  const email = e.currentTarget.elements.email.value.trim();\n  const message = e.currentTarget.elements.message.value.trim();\n\n  const userData = { email, message };\n\n  saveToLS(keyLk, userData);\n});\n\nfunction init(key) {\n  const data = loadFromLS(key);\n  form.elements.email.value = data?.email || '';\n  form.elements.message.value = data?.message || '';\n}\n\ninit(keyLk);\n\nfunction loadFromLS(key) {\n  const data = localStorage.getItem(key);\n  try {\n    return JSON.parse(data);\n  } catch {\n    return data;\n  }\n}\n\nfunction saveToLS(key, value) {\n  const json = JSON.stringify(value);\n  localStorage.setItem(key, json);\n}\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  const { email, message } = e.target.elements;\n  if (!email.value.trim() || !message.value.trim()) {\n    return alert('form fields must be filled');\n  }\n  const userData = { email, message };\n  console.log(userData);\n  e.target.reset();\n\n  localStorage.removeItem(keyLk);\n});\n"],"names":["form","keyLk","e","email","message","saveToLS","init","key","data","loadFromLS","value","json"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,MAAM,EAEpCC,EAAQ,sBAEdD,EAAK,iBAAiB,QAASE,GAAK,CAClC,MAAMC,EAAQD,EAAE,cAAc,SAAS,MAAM,MAAM,OAC7CE,EAAUF,EAAE,cAAc,SAAS,QAAQ,MAAM,OAIvDG,EAASJ,EAFQ,CAAE,MAAAE,EAAO,QAAAC,EAEF,CAC1B,CAAC,EAED,SAASE,EAAKC,EAAK,CACjB,MAAMC,EAAOC,EAAWF,CAAG,EAC3BP,EAAK,SAAS,MAAM,OAAQQ,GAAA,YAAAA,EAAM,QAAS,GAC3CR,EAAK,SAAS,QAAQ,OAAQQ,GAAA,YAAAA,EAAM,UAAW,EACjD,CAEAF,EAAKL,CAAK,EAEV,SAASQ,EAAWF,EAAK,CACvB,MAAMC,EAAO,aAAa,QAAQD,CAAG,EACrC,GAAI,CACF,OAAO,KAAK,MAAMC,CAAI,CAC1B,MAAU,CACN,OAAOA,CACR,CACH,CAEA,SAASH,EAASE,EAAKG,EAAO,CAC5B,MAAMC,EAAO,KAAK,UAAUD,CAAK,EACjC,aAAa,QAAQH,EAAKI,CAAI,CAChC,CAEAX,EAAK,iBAAiB,SAAUE,GAAK,CACnCA,EAAE,eAAc,EAChB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAE,OAAO,SACpC,GAAI,CAACC,EAAM,MAAM,KAAI,GAAM,CAACC,EAAQ,MAAM,OACxC,OAAO,MAAM,4BAA4B,EAG3C,QAAQ,IADS,CAAE,MAAAD,EAAO,QAAAC,EACN,EACpBF,EAAE,OAAO,QAET,aAAa,WAAWD,CAAK,CAC/B,CAAC"}